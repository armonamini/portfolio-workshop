@tailwind base;
@tailwind components;
@tailwind utilities;

/* Definition of the design system. All colors, gradients, fonts, etc should be defined here. 
All colors MUST be HSL.
*/

@layer base {
  :root {
    --background: 230 89% 14%;
    --foreground: 0 0% 98%;

    --card: 273 60% 24%;
    --card-foreground: 0 0% 98%;

    --popover: 273 60% 24%;
    --popover-foreground: 0 0% 98%;

    --primary: 0 0% 100%;
    --primary-foreground: 273 84% 18%;

    --secondary: 270 70% 88%;
    --secondary-foreground: 273 84% 18%;

    --muted: 270 35% 30%;
    --muted-foreground: 270 15% 78%;

    --accent: 291 85% 60%;
    --accent-foreground: 0 0% 100%;

    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 0 0% 98%;

    --border: 270 30% 35%;
    --input: 270 30% 35%;
    --ring: 0 0% 100%;

    --radius: 0.75rem;

    --sidebar-background: 273 84% 32%;
    --sidebar-foreground: 0 0% 98%;

    --sidebar-primary: 0 0% 100%;
    --sidebar-primary-foreground: 273 84% 18%;

    --sidebar-accent: 270 70% 88%;
    --sidebar-accent-foreground: 273 84% 18%;

    --sidebar-border: 270 30% 35%;
    --sidebar-ring: 0 0% 100%;

    /* Custom design tokens */
    --primary-variant: 264 90% 70%;
    --primary-glow: 280 100% 70%;
    /* Star colors */
    --star-gold: 46 94% 41%;
    --star-magenta: 288 99% 70%;

    /* Title color (approx #1E5C41) */
    --title: 154 51% 24%;
    --title-glow: 154 45% 34%;

    --gradient-hero: linear-gradient(135deg, hsl(var(--primary) / 0.95), hsl(var(--accent) / 0.95));
    --gradient-subtle: radial-gradient(60% 50% at 70% 20%, hsl(var(--primary) / 0.20), transparent 60%);

    --shadow-elevated: 0 20px 40px -15px hsl(var(--foreground) / 0.2);
    --shadow-glow: 0 10px 30px -12px hsl(var(--accent) / 0.55);
    --shadow-glow-strong: 0 20px 50px -12px hsl(var(--accent) / 0.65);
  }

.dark {
    --background: 230 89% 14%;
    --foreground: 0 0% 98%;

    --card: 273 60% 18%;
    --card-foreground: 0 0% 98%;

    --popover: 273 60% 18%;
    --popover-foreground: 0 0% 98%;

    --primary: 0 0% 100%;
    --primary-foreground: 273 84% 15%;

    --secondary: 270 40% 22%;
    --secondary-foreground: 0 0% 98%;

    --muted: 270 35% 20%;
    --muted-foreground: 270 15% 70%;

    --accent: 291 85% 60%;
    --accent-foreground: 0 0% 100%;

    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 0 0% 98%;

    --border: 270 30% 28%;
    --input: 270 30% 28%;
    --ring: 0 0% 100%;
    --sidebar-background: 273 84% 12%;
    --sidebar-foreground: 0 0% 98%;
    --sidebar-primary: 0 0% 100%;
    --sidebar-primary-foreground: 273 84% 15%;
    --sidebar-accent: 270 40% 22%;
    --sidebar-accent-foreground: 0 0% 98%;
    --sidebar-border: 270 30% 28%;
    --sidebar-ring: 0 0% 100%;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground;
  }
}

@layer utilities {
  @keyframes star-drift {
    0%, 100% { transform: translate3d(0,0,0); }
    50% { transform: translate3d(3px,-6px,0); }
  }
  @keyframes comet-fly {
    0% { transform: translate3d(0,0,0); opacity: 0; }
    5% { opacity: 1; }
    100% { transform: translate3d(var(--dx), var(--dy), 0); opacity: 0; }
  }
  .animate-shoot {
    animation: comet-fly var(--dur, 10s) linear forwards;
  }

  /* Curved comets via offset-path */
  @keyframes comet-curve {
    0% { offset-distance: 0%; opacity: 0; }
    5% { opacity: 1; }
    100% { offset-distance: 100%; opacity: 0; }
  }
  .animate-comet {
    animation: comet-curve var(--dur, 10s) linear forwards;
    offset-rotate: auto;
    will-change: offset-distance, opacity;
  }

  /* Ambient wave motion */
  @keyframes wave-drift-1 {
    0% { transform: translate3d(-4%, 0, 0) scale(1.05); }
    50% { transform: translate3d(4%, -1%, 0) scale(1.08); }
    100% { transform: translate3d(-3%, 0.5%, 0) scale(1.04); }
  }
  @keyframes wave-drift-2 {
    0% { transform: translate3d(3%, 0, 0) scale(1); }
    50% { transform: translate3d(-5%, 1%, 0) scale(1.06); }
    100% { transform: translate3d(2%, -0.5%, 0) scale(1.02); }
  }

  /* Background title subtle movement */
  @keyframes title-drift {
    0%, 100% { transform: translateY(0); letter-spacing: 0em; opacity: 0.06; }
    50% { transform: translateY(2px); letter-spacing: 0.02em; opacity: 0.09; }
  }
  .animate-title-drift {
    animation: title-drift 18s ease-in-out infinite;
    will-change: transform, opacity, letter-spacing;
  }

  @keyframes shimmer-shift {
    0% { background-position: 0% 0%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 100%; }
  }

  .animate-shimmer-slow {
    animation: shimmer-shift 40s linear infinite;
    will-change: background-position, opacity;
  }

  /* Gentle opacity breathing for wave highlights */
  @keyframes glow-breathe {
    0%, 100% { opacity: 0.24; }
    50% { opacity: 0.36; }
  }

  /* Scene zoom out */
  @keyframes scene-zoom-out {
    0% { transform: scale(1); }
    100% { transform: scale(0.86); }
  }
  .scene-root { transform-origin: center; will-change: transform; }
  .animate-scene-zoom-out { animation: scene-zoom-out 900ms cubic-bezier(0.4, 0, 0.2, 1) forwards; }
}
